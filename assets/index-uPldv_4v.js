(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();const f=""+new URL("style-4GA2FNNx.css",import.meta.url).href,d=n=>new URL(Object.assign({"./style.css":f})[`./${n}`],import.meta.url).href,u=[{id:1,name:"RTX 5090 Ti FE",price:2199,category:"GPU",image:d("assets/img/1.jpg")},{id:2,name:"Ryzen 9 9950X",price:699,category:"CPU",image:d("assets/img/2.jpg")},{id:3,name:"32GB DDR5 7200MHz",price:180,category:"RAM",image:d("assets/img/3.jpg")},{id:4,name:"Monitor 4K 240Hz OLED",price:1299,category:"DISPLAY",image:d("assets/img/4.jpg")},{id:5,name:"SSD 4TB Gen5 NVMe",price:450,category:"STORAGE",image:d("assets/img/5.jpg")},{id:6,name:"Liquid Cooling 360mm",price:220,category:"COOLING",image:d("assets/img/6.jpg")},{id:7,name:"Keyboard HE Magnetic",price:190,category:"PERIPHERALS",image:d("assets/img/7.jpg")},{id:8,name:"Mouse Ultra-light 8K",price:140,category:"PERIPHERALS",image:d("assets/img/8.jpg")},{id:9,name:"Case Full Tower Glass",price:280,category:"CASE",image:d("assets/img/9.jpg")}];let i=JSON.parse(localStorage.getItem("active_cart"))||[],s=JSON.parse(localStorage.getItem("currentUser"));const c=()=>{const n=new Audio("https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3");n.volume=.15,n.play().catch(()=>{})};window.saveProfile=()=>{const n=document.getElementById("prof-name").value,a=document.getElementById("prof-address").value,e=document.getElementById("prof-card").value,t=document.getElementById("prof-file"),r=o=>{s={...s,name:n,address:a,avatar:o||s.avatar,payment:e?`VISA **** ${e.slice(-4)}`:s.payment},localStorage.setItem("currentUser",JSON.stringify(s)),location.reload()};if(t.files&&t.files[0]){const o=new FileReader;o.onload=l=>r(l.target.result),o.readAsDataURL(t.files[0])}else r()};window.addToCart=n=>{const a=u.find(e=>e.id===Number(n));a&&(c(),i.push({...a,cartId:Date.now()+Math.random()}),g(),p(),document.getElementById("cart-panel").classList.add("active"))};window.removeFromCart=n=>{c(),i=i.filter(a=>a.cartId!==n),g(),p()};const g=()=>{localStorage.setItem("active_cart",JSON.stringify(i))},p=()=>{const n=document.getElementById("cart-items"),a=i.reduce((e,t)=>e+t.price,0);n.innerHTML=i.map(e=>`
        <div class="cart-item">
            <span>${e.name}</span>
            <div><strong>$${e.price}</strong> <button onclick="removeFromCart(${e.cartId})" class="delete-btn">‚úï</button></div>
        </div>`).join(""),document.getElementById("tax-val").innerText=`$${(a*.14).toFixed(2)}`,document.getElementById("total-val").innerText=`$${(a*1.14).toFixed(2)}`};window.deployOrder=async()=>{const n=JSON.parse(localStorage.getItem("currentUser"));if(i.length===0)return alert("Rig vac√≠o.");if(!n.address)return alert("Configura direcci√≥n en PERFIL."),window.openProfile();const a=document.getElementById("deploy-btn"),e=a.innerText;a.innerText="PROCESANDO DATOS...",a.disabled=!0,await new Promise(o=>setTimeout(o,1500));const t=JSON.parse(localStorage.getItem("orders")||"[]"),r={id:Math.floor(Math.random()*9e3)+1e3,userName:n.name,userEmail:n.email,userAvatar:n.avatar,address:n.address,payment:n.payment,date:new Date().toLocaleString(),items:[...i],total:i.reduce((o,l)=>o+l.price,0)*1.14,status:"Preparando"};t.push(r),localStorage.setItem("orders",JSON.stringify(t)),c(),i=[],g(),a.innerText=e,a.disabled=!1,p(),m("MY RIG")};const m=n=>{const a=document.getElementById("content-area");if(document.getElementById("cart-panel").classList.remove("active"),n==="STORE")a.innerHTML=`<h1 class="neon-text">Elite Hardware</h1><div class="grid">${u.map(e=>`
            <div class="p-card">
                <div class="p-img-container">
                    <img src="${e.image}" class="p-img" onerror="this.src='https://via.placeholder.com/150/000/00f3ff?text=COMPONENT'">
                </div>
                <h3>${e.name}</h3><p class="p-price">$${e.price}</p>
                <button class="btn-primary" onclick="addToCart(${e.id})">A√ëADIR AL RIG</button>
            </div>`).join("")}</div>`;else if(n==="MY RIG"){const e=JSON.parse(localStorage.getItem("orders")||"[]").filter(t=>t.userEmail===s.email);a.innerHTML='<h1 class="neon-text">Mi Historial</h1>'+e.reverse().map(t=>`
            <div class="p-card" style="display:flex; justify-content:space-between; margin-bottom:10px; align-items:center;">
                <div><h3>ORDEN #${t.id}</h3><p>ESTADO: <span style="color:var(--neon-cyan)">${t.status.toUpperCase()}</span></p></div>
                <button onclick="viewOrderDetails(${t.id})" class="btn-primary" style="width:auto; padding:5px 15px;">DETALLES</button>
            </div>`).join("")}else if(n==="ADMIN"&&s.role==="admin"){const e=JSON.parse(localStorage.getItem("orders")||"[]");a.innerHTML=`<h1 class="neon-text">Admin Hub</h1><div class="grid">${e.reverse().map(t=>`
            <div class="p-card">
                <div style="display:flex; gap:10px; align-items:center; margin-bottom:10px;">
                    <img src="${t.userAvatar}" style="width:35px; height:35px; border-radius:50%; object-fit:cover; border:1px solid var(--neon-magenta)">
                    <h3>${t.userName}</h3>
                </div>
                <select onchange="updateOrderStatus(${t.id}, this.value)" class="input-futuristic" style="padding:5px; font-size:0.8rem;">
                    <option value="Preparando" ${t.status==="Preparando"?"selected":""}>PREPARANDO</option>
                    <option value="Enviado" ${t.status==="Enviado"?"selected":""}>ENVIADO</option>
                    <option value="Entregado" ${t.status==="Entregado"?"selected":""}>ENTREGADO</option>
                </select>
                <button onclick="viewOrderDetails(${t.id})" class="btn-primary" style="margin-top:10px;">DETALLES</button>
            </div>`).join("")}</div>`}};window.updateOrderStatus=(n,a)=>{let e=JSON.parse(localStorage.getItem("orders")||"[]");e=e.map(t=>t.id===n?{...t,status:a}:t),localStorage.setItem("orders",JSON.stringify(e)),c(),m("ADMIN")};window.viewOrderDetails=n=>{const e=JSON.parse(localStorage.getItem("orders")||"[]").find(t=>t.id===n);document.getElementById("modal-body").innerHTML=`
        <div style="background:rgba(0,0,0,0.5); padding:10px; border-radius:10px; margin-bottom:15px; border:1px solid var(--neon-cyan);">
            <p>üìç ENV√çO: ${e.address}</p><p>üí≥ PAGO: ${e.payment}</p><p>üõ∞Ô∏è STATUS: ${e.status}</p>
        </div>`+e.items.map(t=>`<div style="display:flex; justify-content:space-between;"><span>${t.name}</span><strong>$${t.price}</strong></div>`).join(""),document.getElementById("modal-title").innerText=`ORDEN #${e.id}`,document.getElementById("modal-footer-info").innerHTML=`<h3 style="color:var(--neon-magenta)">TOTAL: $${e.total.toFixed(2)}</h3>`,document.getElementById("order-modal").style.display="flex"};document.getElementById("enter-btn").onclick=()=>{const n=document.getElementById("login-name").value,a=document.getElementById("login-email").value,e=document.getElementById("login-role").value;if(!n||!a)return alert("Completa los datos.");s={name:n,email:a,role:e,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${n}`,address:"",payment:""},localStorage.setItem("currentUser",JSON.stringify(s)),y()};document.getElementById("btn-shop").onclick=()=>m("STORE");document.getElementById("btn-orders").onclick=()=>m("MY RIG");document.getElementById("btn-profile").onclick=()=>{c(),document.getElementById("profile-modal").style.display="flex"};document.getElementById("btn-admin").onclick=()=>m("ADMIN");document.getElementById("deploy-btn").onclick=window.deployOrder;document.getElementById("logout-btn").onclick=()=>{localStorage.clear(),location.reload()};window.toggleCart=()=>{c(),document.getElementById("cart-panel").classList.toggle("active")};window.closeProfile=()=>document.getElementById("profile-modal").style.display="none";window.closeModal=()=>document.getElementById("order-modal").style.display="none";const y=()=>{s&&(document.getElementById("login-screen").style.display="none",document.getElementById("user-name").innerText=s.name,document.getElementById("user-avatar").src=s.avatar,document.getElementById("btn-admin").style.display=s.role==="admin"?"inline-block":"none",m("STORE"),p())};s&&y();
